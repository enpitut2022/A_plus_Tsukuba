{% load static %}
<!doctype html>
<html lang="ja">

<head>
  {% include 'html_head.html' %}
  <link rel="stylesheet" href="{% static 'board/search.css' %}">
  <title>A+ã¤ãã°</title>
  <meta property="og:title" content="A+ã¤ãã°" />
  <meta property="og:type" content="website" />
</head>

<body class="bg-light">
  {% include 'header.html' %}

  <div id="main_container" class="container-fluid">
    <div id="search_app">
      <div class="row">
        <div class="col-12">
          <div class="text-center img-hidden" style="margin-bottom: 15px;">
            <img src="{% static 'board/new_logo.png' %}" alt="img" class="mx-auto d-block logo-img">
          </div>
          <div class="input-group mb-3">
            <span class="input-group-text">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search"
                viewBox="0 0 16 16">
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
              </svg>
            </span>
            <child-component v-on:childevent="searchMethod"></child-component>
          </div>
          <div v-if="query.length === 0" class="text-center" style="margin-bottom: 15px; margin-top: 15px;">
            å±¥ä¿®ã—ã¦ã„ã‚‹è¬›ç¾©ã‚¹ãƒ¬ãƒƒãƒ‰ã«å‚åŠ ã—ã¦ã€
            <br class="mobile_only">
            å”åŠ›ã—ã¦A+ã‚’ç›®æŒ‡ãã†ï¼
          </div>
        </div>
      </div>

      <template v-if="query.length !== 0">
        <div class="row">
          <div class="col">
            <table class="table zebra-striping">
              <thead>
                <tr>
                  <th scope="col" class="none-md">ç§‘ç›®ç•ªå·</th>
                  <th scope="col">ç§‘ç›®å</th>
                  <th scope="col">æ•™å“¡</th>
                  <th scope="col" class="none-md">ç¨®é¡</th>
                  <th scope="col" class="none-md">å­¦ç¾¤</th>
                  <th scope="col" class="none-md">å­¦é¡</th>
                </tr>
              </thead>
              <tbody>
                <tr v-for="sub in results">
                  <th class="none-md">[[sub.code]]</th>
                  <td><a :href="'/threads/' + sub.thread_id + '/'">[[sub.name]]</a></td>
                  <td>[[sub.teachers | readmore(15, '...') ]]</td>
                  <td class="none-md">[[sub.subtype]]</td>
                  <td class="none-md">[[sub.schools]]</td>
                  <td class="none-md">[[sub.colleges]]</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="row">
          <div v-if="results.length !== 0" class="col">
            <template v-if="results.length === 500">
              ä¸Šä½500ä»¶ã®ã¿è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚
            </template>
          </div>
          <div v-else class="col">
            ã€Œ[[ query ]]ã€ã‚’å«ã‚€è¬›ç¾©ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
          </div>
        </div>
    </div>
    </template>
    <template v-else>
      <div class="container" style="margin-top: 30px;">

        <div class="row">
          <div class="card-group">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">æ–°ã—ã„è³ªå•ğŸ¤—</h5>
                <ol class="list-group list-group-flush">
                  {% for newpost in post_list %}
                  <li class="list-group-item">
                    <span style="overflow-wrap: anywhere;">
                      {{newpost.text | truncatechars:50}}
                    </span>
                    <br>
                    <div class="newpost-thread text-end"> 
                      <a href="{% url 'threads' newpost.thread_id %}">
                        {{ newpost.thread.title | truncatechars:30}}
                      </a>       
                    </div>
                    </li>
                  {% endfor %}
                </ol>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">éå¸¸äº‹æ…‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ©ãƒ³ã‚­ãƒ³ã‚°ğŸ”¥</h5>
                <ol class="list-group list-group-flush">
                  <li class="list-group-item">
                    <div class="d-flex justify-content-between">
                      <div>
                        <img src="{% static 'board/crown/f5-1.png' %}" alt="ç¬¬1ä½" class="img-fluid" width="45px">
                        <a href="/threads/{{ ranking.0.0 }}/">
                          {{ ranking.0.1 | truncatechars:25}}</a>
                      </div>
                      <div>
                        {{ ranking.0.2 }}ä»¶
                      </div>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class="d-flex justify-content-between">
                      <div>
                        <img src="{% static 'board/crown/f5-2.png' %}" alt="ç¬¬1ä½" class="img-fluid" width="45px">
                        <a href="/threads/{{ ranking.1.0 }}/">
                          {{ ranking.1.1 | truncatechars:25}}</a>
                      </div>
                      <div>
                        {{ ranking.1.2 }}ä»¶
                      </div>
                    </div>
                  </li>

                  <li class="list-group-item">
                    <div class="d-flex justify-content-between">
                      <div>
                        <img src="{% static 'board/crown/f5-3.png' %}" alt="ç¬¬1ä½" class="img-fluid" width="45px">
                        <a href="/threads/{{ ranking.2.0 }}/">
                          {{ ranking.2.1 | truncatechars:25}}</a>
                      </div>
                      <div>
                        {{ ranking.2.2 }}ä»¶
                      </div>
                    </div>
                  </li>
                </ol>
                <br>
                <h5 class="card-title">é‹å–¶ã‹ã‚‰ã®ãŠçŸ¥ã‚‰ã›â„¹ï¸</h5>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    ç¾åœ¨ãŠçŸ¥ã‚‰ã›ã™ã‚‹æƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                  </li>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">ä¾¿åˆ©ãƒªãƒ³ã‚¯é›†ğŸ”—</h5>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item"><a href="https://manaba.tsukuba.ac.jp/ct/home">
                    ğŸŒ±manaba
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                      </svg>
                    </a>
                  </li>
                  <li class="list-group-item"><a href="https://twins.tsukuba.ac.jp/campusweb/campusportal.do">
                    ğŸ“TWINS
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                      </svg>
                    </a>
                  </li>
                  <li class="list-group-item"><a href="https://make-it-tsukuba.github.io/alternative-tsukuba-kdb/">
                    ğŸ“’KdBã‚‚ã©ã
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                      </svg>
                    </a>
                  </li>
                  <br>
                  <li class="list-group-item"><a href="https://www.tulips.tsukuba.ac.jp/opac/user/top">
                    ğŸ“šTulips ãƒã‚¤ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                      </svg>
                    </a>
                  </li>
                  <li class="list-group-item"><a
                      href="https://papercut-p01.u.tsukuba.ac.jp:9192/app?service=page/UserSummary">
                      ğŸ–¨ï¸Webãƒ—ãƒªãƒ³ãƒˆï¼ˆå…¨å­¦è¨ˆç®—æ©Ÿï¼‰
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                      </svg>
                    </a>
                  </li>
                  <li class="list-group-item"><a href="https://view-con00.u.tsukuba.ac.jp/">
                    ğŸ’»ãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ï¼ˆå…¨å­¦è¨ˆç®—æ©Ÿï¼‰
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                      </svg>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>
    </template>
    {% include 'footer.html' %}
  </div>

  {% include 'load_javascript.html' %}
  <script src="{% static 'board/search.js' %}"></script>
</body>

</html>